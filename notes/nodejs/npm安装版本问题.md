# npm 安装版本问题

## 去重算法

npm3以后，将node_modules的包结构变成了扁平的，可以避免安装很多重复的包。

如果遇到了两个必须依赖两个不同的包，会把不同的版本安装到自己依赖的版本下面，同时会创建一个带有版本号的目录到根目录下。

## 版本介绍

[](https://semver.org/lang/zh-CN/)

- 主版本号：做了不兼容修改或颠覆式的重写
- 次版本号：向下兼容的功能性新增
- 修订号：向下兼容的问题修正

## ^符号指定的版本范围是多少

默认情况下，当用--save或者--save-dev安装一个模块时，npm通过脱字符(^)来限定所安装模块的主版本号，而该脱字符对于不同的版本号有不同的更新机制

^指明的版本范围，只要不修改 [major, minor, patch] 三元组中，最左侧的第一个非0位，都是可以的。也就是说，要确定 ^版本包含的范围，先要找到 最左侧的第一个非0位 ，只有在这一位右侧的变动，才被包含在这个 ^ 指定的范围内。举个：

^1.2.3版本包括：>= 1.2.3 并且 < 2.0.0
^0.2.3版本包括：>= 0.2.3 并且 < 0.3.0
^0.0.3版本包括：>= 0.0.3 并且 < 0.0.4

## ~符号限定次要版本

## 使用npm i vue@2.1.1后安装的版本是多少

安装的版本是^2.1.1, 在本地安装的也是2.1.1。如果这个时候把package-lock.json和node_modules一起删掉。则最终安装的是2.x的最新版本。
